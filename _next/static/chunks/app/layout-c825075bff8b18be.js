(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4525:function(e,t,s){Promise.resolve().then(s.bind(s,9082)),Promise.resolve().then(s.bind(s,6776)),Promise.resolve().then(s.t.bind(s,4332,23))},9082:function(e,t,s){"use strict";var r=s(7437),n=s(749),a=s(9759),l=s(3799),i=s(103),o=s(9512),c=s(6463),d=s(2265);t.default=e=>{let{children:t,themeProps:s}=e,u=(0,c.useRouter)(),[x,h]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{h(!0)},[]),x)?(0,r.jsx)(i.w,{navigate:u.push,children:(0,r.jsx)(o.f,{disableTransitionOnChange:!0,...s,children:(0,r.jsx)(n.H,{children:(0,r.jsx)(a.s,{children:(0,r.jsx)(l.Y,{children:t})})})})}):null}},7948:function(e,t,s){"use strict";var r=s(7437),n=s(2265),a=s(1942);t.Z=e=>{let{className:t}=e,[s,l]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"".concat(t),children:[(0,r.jsxs)("h2",{className:"flex text-xl font-bold mb-4 gap-2 justify-start items-center",children:[(0,r.jsx)(a.ulB,{})," Filtros"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2",children:"Tipo:"}),(0,r.jsxs)("select",{className:"block w-full p-2 border rounded",children:[(0,r.jsx)("option",{value:"",children:"Todos"}),(0,r.jsx)("option",{value:"restaurante",children:"Restaurantes"}),(0,r.jsx)("option",{value:"atracao",children:"Atra\xe7\xf5es"}),(0,r.jsx)("option",{value:"atracao",children:"Rota"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block mb-2",children:"Avalia\xe7\xe3o:"}),(0,r.jsxs)("select",{className:"block w-full p-2 border rounded",children:[(0,r.jsx)("option",{value:"",children:"Todas"}),(0,r.jsx)("option",{value:"alta",children:"Alta"}),(0,r.jsx)("option",{value:"media",children:"M\xe9dia"}),(0,r.jsx)("option",{value:"media",children:"Baixa"})]})]})]})}},6776:function(e,t,s){"use strict";s.d(t,{default:function(){return _}});var r=s(7437),n=s(9862),a=s(6425),l=s(3891),i=s(8319),o=s(3499),c=s(551),d=s(209),u=s(949),x=s(7045),h=s(9786),m=s(400),f=s(196),j=s(1514),v=s(8826),p=s(749),g=s(6463),b=s(2265),y=s(1942),C=s(7948),w=s(6428),N=s(583),S=s(5256),k=s(1025),A=s(7971),E=e=>{let{onClose:t,isOpen:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.R,{isOpen:s,onOpenChange:()=>{t()},placement:"center",children:(0,r.jsx)(N.A,{children:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.k,{className:"flex flex-col gap-1",children:"Prefer\xeancias"}),(0,r.jsx)(k.I,{}),(0,r.jsxs)(A.R,{children:[(0,r.jsx)(o.A,{color:"danger",variant:"light",onPress:e,startContent:(0,r.jsx)(y.aHS,{}),children:"Cancelar"}),(0,r.jsx)(o.A,{startContent:(0,r.jsx)(y.TvB,{}),color:"primary",onPress:e,children:"Salvar"})]})]})})})})};function _(){let[e,t]=(0,b.useState)(!1),[s,w]=(0,b.useState)(),[N,S]=(0,b.useState)(!1),k=(0,g.usePathname)(),{user:A,isAnonymous:_,handleLogout:P}=(0,p.a)();(0,b.useEffect)(()=>{k.includes("sobre")?w("sobre"):k.includes("favoritos")?w("favoritos"):w("home")},[k]);let O=(0,b.useMemo)(()=>(0,r.jsx)("div",{children:(0,r.jsx)(y.Fm7,{})}),[]),B=(0,b.useMemo)(()=>(0,r.jsx)("div",{children:(0,r.jsx)(y.aHS,{})}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.R,{onMenuOpenChange:t,isBordered:!0,className:"w-full sticky top-0 z-40 backdrop-blur-lg backdrop-saturate-150 bg-background/70",children:[(0,r.jsxs)(a.H,{children:[(0,r.jsx)(y.hRB,{className:"text-3xl"}),(0,r.jsx)("p",{className:"font-bold text-2xl",style:{fontFamily:"'Lustria', sans-serif"},children:"Comino"})]}),(0,r.jsxs)(l.U,{className:"hidden sm:flex gap-4 justify-center",children:[(0,r.jsx)(i.k,{children:(0,r.jsx)(o.A,{as:c.O,href:"/",variant:"home"===s?"solid":"light",startContent:(0,r.jsx)(y.xng,{}),radius:"lg",children:"Home"})}),(0,r.jsx)(i.k,{children:(0,r.jsx)(o.A,{as:c.O,href:"/favoritos",variant:"favoritos"===s?"solid":"light",startContent:(0,r.jsx)(y.$0H,{}),radius:"lg",children:"Favoritos"})}),(0,r.jsx)(i.k,{children:(0,r.jsx)(o.A,{as:c.O,href:"/sobre",variant:"sobre"===s?"solid":"light",startContent:(0,r.jsx)(y.LL$,{}),radius:"lg",children:"Sobre"})})]}),(0,r.jsx)(l.U,{as:"div",justify:"end",children:(0,r.jsxs)(d.F,{placement:"bottom-end",children:[(0,r.jsx)(u.S,{children:(0,r.jsx)(x.h,{isBordered:!0,as:"button",className:"transition-transform",color:_?"default":"success",name:"".concat(null==A?void 0:A.given_name," ").concat(null==A?void 0:A.family_name),size:"sm",src:_?"":null==A?void 0:A.picture,fallback:(0,r.jsx)(y.Xws,{})})}),(0,r.jsxs)(h.a,{"aria-label":"Profile Actions",variant:"flat",children:[(0,r.jsxs)(m.W,{className:"h-14 gap-2",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Bem vindo,"}),(0,r.jsx)("p",{className:"font-semibold",children:"".concat(null==A?void 0:A.given_name," ").concat(null==A?void 0:A.family_name)})]},"profile"),(0,r.jsx)(m.W,{startContent:(0,r.jsx)(y.rU2,{}),onClick:()=>{S(!0)},children:"Prefer\xeancias"},"preferences"),(0,r.jsx)(m.W,{startContent:(0,r.jsx)(y.g_g,{}),children:"Ajuda"},"help"),(0,r.jsx)(m.W,{onClick:P,startContent:(0,r.jsx)(y.fHX,{}),color:_?"success":"danger",children:_?"Fazer login":"Log Out"},"logout")]})]})}),(0,r.jsx)(f.L,{"aria-label":e?"Close menu":"Open menu",className:"sm:hidden",icon:e?B:O}),(0,r.jsx)(j.$,{children:(0,r.jsx)(v.h,{children:(0,r.jsx)(C.Z,{className:"w-full p-4"})})})]}),(0,r.jsx)(E,{isOpen:N,onClose:()=>{S(!1)}})]})}},749:function(e,t,s){"use strict";s.d(t,{H:function(){return f},a:function(){return m}});var r=s(7437),n=s(3499),a=s(8472),l=s(9714),i=s(2265),o=s(1942);let c=()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 -12 68 68",children:[(0,r.jsx)("path",{fill:"#fbc02d",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20 s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,r.jsx)("path",{fill:"#e53935",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,r.jsx)("path",{fill:"#4caf50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,r.jsx)("path",{fill:"#1565c0",d:"M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]});function d(e){let{onSuccess:t}=e,s="805846529075-v4lkha22l3le1v2di45v1f79i3s27tp9.apps.googleusercontent.com",d="https://script.google.com/macros/s/AKfycbzhHrNvPvcGJLaiMevPmlWYg5GMQv1WLZ-VOqqEARvLetBSDc2P1-beB-WDniwUjCbtkg/exec";return(0,i.useEffect)(()=>{let e=async e=>{let s=(0,l.o)(e.credential);try{let e=await r(s);s.internalId=e,t(s)}catch(e){console.error("Error registering user:",e)}},r=async e=>{try{let t=await a.Z.post(d,e,{headers:{"Content-Type":"text/plain;charset=utf-8"}});return Number(t.data)}catch(e){console.error("Error sending data to Google Apps Script:",e)}},n=document.createElement("script");return n.src="https://accounts.google.com/gsi/client",n.async=!0,n.defer=!0,n.onload=()=>{window.google.accounts.id.initialize({client_id:s,callback:e,auto_select:!1,cancel_on_tap_out:!0}),window.google.accounts.id.disableAutoSelect(),window.google.accounts.id.renderButton(document.getElementById("signInDiv"),{theme:"outline",size:"large"})},document.body.appendChild(n),()=>{document.body.removeChild(n)}},[s,t,d]),(0,r.jsxs)("div",{className:"relative flex min-h-screen items-center justify-center bg-gray-100",children:[(0,r.jsx)("img",{alt:"Background",src:"/turismo-serra-gaucha/_next/static/media/waterfall_background.f8b95f9a.jpg",className:"absolute inset-0 w-full h-full object-cover opacity-50 z-0"}),(0,r.jsxs)("div",{className:"relative bg-white p-8 rounded-lg shadow-lg w-96 z-10",children:[(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex items-center text-xl font-semibold text-gray-700 p-2",children:[(0,r.jsx)(o.hRB,{className:"text-2xl mr-2"}),(0,r.jsx)("span",{style:{fontFamily:"'Lustria', sans-serif"},children:"Comino"})]}),(0,r.jsxs)(n.A,{variant:"bordered",startContent:(0,r.jsx)(c,{}),className:"w-full py-2 hover:bg-blue-50 hover:bg-opacity-80 border-[1px] border-[#dadce0] text-sm rounded-md flex justify-center items-center relative cursor-pointer mt-10",onClick:()=>window.google.accounts.id.prompt(),children:[(0,r.jsx)("div",{id:"signInDiv",className:"absolute inset-0 w-full h-full",style:{zIndex:1,opacity:0,pointerEvents:"auto"}}),(0,r.jsx)("span",{className:"flex-1 text-center z-0",style:{fontFamily:"'Google Sans', Arial, sans-serif"},children:"Entrar com Google"})]}),(0,r.jsxs)("div",{className:"flex items-center my-6",children:[(0,r.jsx)("hr",{className:"flex-1 border-t border-gray-300"}),(0,r.jsx)("span",{className:"mx-4 text-gray-500",children:"ou"}),(0,r.jsx)("hr",{className:"flex-1 border-t border-gray-300"})]}),(0,r.jsx)(n.A,{startContent:(0,r.jsx)(o.Xws,{}),onClick:()=>t("anonymous"),variant:"bordered",className:"w-full py-2 hover:bg-blue-50 hover:bg-opacity-80 border-[1px] border-[#dadce0] text-sm rounded-md",style:{fontFamily:"'Google Sans', Arial, sans-serif"},children:(0,r.jsx)("span",{className:"flex-1 text-center",children:"Acessar sem fazer login"})})]})]})}var u=s(2649),x=s(6463);let h=(0,i.createContext)(void 0),m=()=>{let e=(0,i.useContext)(h);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},f=e=>{let{children:t}=e,[s,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!0),[m,f]=(0,i.useState)(!0),j=(0,x.useRouter)();(0,i.useEffect)(()=>{let e=u.Z.get("userCredentials");if(e){let t=JSON.parse(e);n(t),l(!0),c("anonymous"===t.sub)}else c(!0);f(!1)},[]);let v=e=>{if("anonymous"===e){let e={sub:"anonymous",internalId:0,name:"Visitante",given_name:"Visitante",family_name:"do Comino",email:"visitante@example.com",picture:""};n(e),c(!0),u.Z.set("userCredentials",JSON.stringify(e),{expires:1})}else n(e),c(!1),u.Z.set("userCredentials",JSON.stringify(e),{expires:1});l(!0),j.push("/")};return a||m?(0,r.jsx)(h.Provider,{value:{user:s,isLoggedIn:a,isAnonymous:o,handleLoginSuccess:v,handleLogout:()=>{u.Z.remove("userCredentials"),n(null),c(!0),l(!1),j.push("/")}},children:t}):(0,r.jsx)(d,{onSuccess:v})}},9759:function(e,t,s){"use strict";s.d(t,{r:function(){return d},s:function(){return c}});var r=s(7437),n=s(2265),a=s(8472),l=s(749);let i=(0,n.createContext)(void 0),o="https://script.google.com/macros/s/AKfycbxy_pI5KoHhXx0ewCtWdJWqtzTSrK5UtagWjUJveTKCt5CBSK357mwYbJ7wTGJ4dSP-uA/exec",c=e=>{let{children:t}=e,[s,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),{user:x,isAnonymous:h}=(0,l.a)(),m=async e=>{try{u(!0);let t=await a.Z.get("".concat(o,"?userId=").concat(e));c(t.data)}catch(e){console.error("Error fetching favorites:",e)}finally{u(!1)}},f=async e=>{c(t=>{let s=[...t,e];return x&&!h&&v(e,!0),s})},j=async e=>{c(t=>{let s=t.filter(t=>t!==e);return x&&!h&&v(e,!1),s})},v=async(e,t)=>{try{let s=null==x?void 0:x.internalId;await a.Z.post(o,{userId:s,placeId:e,isFavorite:t},{headers:{"Content-Type":"text/plain;charset=utf-8"}})}catch(e){console.error("Error updating favorite in sheet:",e)}};return(0,r.jsx)(i.Provider,{value:{favorites:s,addFavorite:f,removeFavorite:j,fetchFavorites:m,isLoading:d},children:t})},d=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useFavorites must be used within a FavoriteProvider");return e}},3799:function(e,t,s){"use strict";s.d(t,{Y:function(){return i},i:function(){return o}});var r=s(7437),n=s(8472),a=s(2265);let l=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(void 0),[d,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{u(!0),h(null);try{let e=await fetch("https://script.google.com/macros/s/AKfycbwAkmGG9Ehou1Q1tDQ4vD2ugnyARx0g_NpiIPuv7mpdvyDkL9dpt1zTkGFUEJvjtWyDyQ/exec");if(!e.ok)throw Error("Error fetching data: ".concat(e.status));let t=await e.json();i(t.data||[])}catch(e){h(e.message)}finally{u(!1)}})()},[]);let m=async e=>{try{u(!0);let t=await n.Z.get("".concat("https://script.google.com/macros/s/AKfycbwwy6xZlXO9Z8Gdv-B24B_B6OtMVfUv_kbs6WDlOxpa8c0ddIUOPe4kCg7SinS01n1buw/exec","?placeId=").concat(e));c(t.data[0])}catch(e){console.error("Error fetching place details")}finally{u(!1)}};return(0,r.jsx)(l.Provider,{value:{places:s,placeDetails:o,loading:d,error:x,fetchPlaceDetails:m},children:t})},o=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("usePlacesContext deve ser usado dentro de PlacesProvider");return e}},4332:function(){}},function(e){e.O(0,[228,699,100,169,444,971,23,744],function(){return e(e.s=4525)}),_N_E=e.O()}]);